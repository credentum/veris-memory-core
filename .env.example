# Context Store Environment Configuration
# Copy this file to .env and update with your values

# Database Connections (public configuration)
QDRANT_URL=http://localhost:6333
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
REDIS_URL=redis://localhost:6379

# Server Configuration
MCP_SERVER_PORT=8000
LOG_LEVEL=info

# Sprint 13: API Key Authentication
# Enable/disable API key authentication
AUTH_REQUIRED=true

# Environment mode (development allows default test key)
ENVIRONMENT=development

# API Key for MCP Server
# Format: vmk_{prefix}_{random}:user_id:role:is_agent
# Roles: admin, writer, reader, guest
# is_agent: true (AI agent) or false (human user)
# Example: API_KEY_MCP=vmk_mcp_d9ef8d8699ca748e5a484c5026ecdc2a:mcp_server:writer:true

# SECURITY NOTE:
# Do NOT put sensitive passwords or API keys here!
# Use GitHub Secrets for deployment, or .env.local (gitignored) for local development
#
# For GitHub Actions deployment (deploy-dev.yml):
# 1. Go to GitHub repository Settings → Secrets and variables → Actions
# 2. Add secret: API_KEY_MCP=vmk_mcp_xxx:mcp_server:writer:true
# 3. Generate random string: openssl rand -hex 16
# 4. Format: vmk_mcp_{random}:mcp_server:writer:true
# 5. deploy-dev.yml automatically writes secret to .env on the server
#
# For local development:
# 1. Create .env.local (gitignored)
# 2. Add: NEO4J_PASSWORD=your_password_here
# 3. Add: API_KEY_MCP=vmk_mcp_xxx:mcp_server:writer:true

# PR #170: Cache and Embedding Configuration
# Cache TTL in seconds (default: 300 = 5 minutes)
# Increase for stable data (900=15min, 3600=1hr), decrease for real-time data (60-180s)
VERIS_CACHE_TTL_SECONDS=300

# Embedding failure behavior (default: false = graceful degradation)
# true = fail fast (return error if embeddings unavailable)
# false = graceful degradation (store context without vector if embeddings fail)
STRICT_EMBEDDINGS=false

# Embedding vector dimensions (REQUIRED: 384 for v1.0 compliance)
# v1.0 uses all-MiniLM-L6-v2 model which produces 384-dimensional embeddings
# DO NOT CHANGE - hardcoded to 384 for system compatibility
EMBEDDING_DIM=384

# Qdrant collection name (REQUIRED: Must be consistent across all components)
# This ensures vector backend, health checks, and migrations all use the same collection
# Default: context_embeddings (the collection that actually exists in Qdrant)
QDRANT_COLLECTION_NAME=context_embeddings

