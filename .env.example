# Veris Memory - Environment Configuration
# Copy this file to .env and set your values

# ===================
# Required: Passwords
# ===================
NEO4J_PASSWORD=your_neo4j_password_here
REDIS_PASSWORD=your_redis_password_here

# ===================
# Optional: API Auth
# ===================
# Set AUTH_REQUIRED=true to require API keys
AUTH_REQUIRED=false

# API Key Format: VERIS_API_KEY_{NAME}=key:user_id:role:is_agent
# - key: The actual API key (e.g., vmk_herald_xxx)
# - user_id: Namespace/team identifier (e.g., herald, research)
# - role: admin | writer | reader | guest
# - is_agent: true | false
#
# Examples:
# VERIS_API_KEY_MCP=vmk_mcp_xxx:mcp_server:writer:true
# VERIS_API_KEY_HERALD=vmk_herald_xxx:herald:writer:true
# VERIS_API_KEY_RESEARCH=vmk_research_xxx:research:writer:true
# VERIS_API_KEY_VOICEBOT=vmk_voicebot_xxx:voicebot:writer:true
# VERIS_API_KEY_SENTINEL=vmk_sentinel_xxx:sentinel:reader:true
#
# Client usage: X-API-Key header with just the key part (before first colon)
# Example: curl -H "X-API-Key: vmk_herald_xxx" ...
VERIS_API_KEY_MCP=

# ===================
# Optional: Logging
# ===================
LOG_LEVEL=info
ENVIRONMENT=development

# ===================
# Optional: Advanced
# ===================
# Embedding dimensions (default: 384 for all-MiniLM-L6-v2)
EMBEDDING_DIM=384
QDRANT_COLLECTION_NAME=context_embeddings

# HyDE (Hypothetical Document Embeddings) - improves retrieval quality
# Generates hypothetical documents from queries for better semantic matching
# Requires OPENROUTER_API_KEY to be set
# Default: true (enabled in docker-compose, can override with false)
HYDE_ENABLED=true
OPENROUTER_API_KEY=

# Cross-Encoder Reranker - improves ranking precision
# Re-ranks initial retrieval results for better relevance ordering
# Default: true (enabled in docker-compose, can override with false)
CROSS_ENCODER_RERANKER_ENABLED=true

# Sparse Embeddings / Hybrid Search - improves keyword matching
# Combines dense (semantic) with sparse (BM25) vectors for hybrid retrieval
# Uses fastembed with Qdrant/bm25 model for keyword matching alongside semantics
# Default: true (enabled, can override with false to use dense-only search)
SPARSE_EMBEDDINGS_ENABLED=true
